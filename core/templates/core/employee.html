{% extends "base.html" %} {% block title %}Kelola Karyawan{% endblock %} {% block page_title %}Kelola Karyawan{% endblock %} {% block content %}
<div class="flex justify-end mb-6">
	<a href="{% url 'employee_add' %}" class="text-white bg-orange-500 hover:bg-orange-600 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 transition duration-300 ease-in-out inline-flex items-center">
		<svg class="w-4 h-4 me-2" aria-hidden="true" xmlns="http://www.w.org/2000/svg" fill="none" viewBox="0 0 18 18"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16" /></svg>
		Tambah Karyawan
	</a>
</div>

<div class="bg-white/70 backdrop-blur-sm shadow-lg rounded-lg overflow-hidden border border-white/30">
	<div class="overflow-x-auto horizontal-scrollbar">
		<table class="w-full text-sm text-left rtl:text-right text-gray-500">
			<thead class="text-xs text-gray-700 uppercase bg-gray-50/50">
				<tr>
					<th scope="col" class="px-6 py-3">No</th>
					<th scope="col" class="px-6 py-3">Nomor Induk Pekerja</th>
					<th scope="col" class="px-6 py-3">Nama Lengkap</th>
					<th scope="col" class="px-6 py-3">Jabatan</th>
					<th scope="col" class="px-6 py-3 text-center">Aksi</th>
				</tr>
			</thead>
			<tbody>
				{% for employee in employees %}
				<tr class="bg-white border-b hover:bg-gray-50/50">
					<td class="px-6 py-4" data-label="No">{{ page_obj.start_index|add:forloop.counter0 }}</td>
					<td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap" data-label="Nomor Induk Pekerja">{{ employee.employee_id_number }}</td>
					<td class="px-6 py-4" data-label="Nama Lengkap">{{ employee.full_name }}</td>
					<td class="px-6 py-4" data-label="Jabatan">{{ employee.role|default:"-" }}</td>
					<td class="px-6 py-4 text-center" data-label="Aksi">
						<a
							href="{% url 'employee_edit' employee.pk %}"
							class="inline-flex items-center p-2 text-sm font-medium text-center text-white bg-yellow-400 rounded-lg hover:bg-yellow-500 focus:ring-4 focus:outline-none focus:ring-yellow-300">
							<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
								<path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
								<path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
							</svg>
						</a>
						<a
							href="{% url 'employee_delete' employee.pk %}"
							class="inline-flex items-center p-2 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 ms-2">
							<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
								<path
									fill-rule="evenodd"
									d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
									clip-rule="evenodd" />
							</svg>
						</a>
					</td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="5" class="px-6 py-4 text-center text-gray-500">Belum ada data karyawan.</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>

{% if is_paginated %}
<nav class="flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4" aria-label="Table navigation">
	<span class="text-sm font-normal text-gray-500">
		Showing
		<span class="font-semibold text-gray-900">{{ page_obj.start_index }}-{{ page_obj.end_index }}</span>
		of
		<span class="font-semibold text-gray-900">{{ paginator.count }}</span>
	</span>
	<ul class="inline-flex items-center -space-x-px">
		{% if page_obj.has_previous %}
		<li>
			<a href="?page={{ page_obj.previous_page_number }}" class="flex items-center justify-center h-8 px-3 ms-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700">
				<span class="sr-only">Previous</span>
				<svg class="w-2.5 h-2.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
				</svg>
			</a>
		</li>
		{% endif %}

		<div class="hidden md:inline-flex">
			{% for num in paginator.page_range %} {% if page_obj.number == num %}
			<li>
				<a href="#" aria-current="page" class="flex items-center justify-center h-8 px-3 text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700">{{ num }}</a>
			</li>
			{% else %}
			<li>
				<a href="?page={{ num }}" class="flex items-center justify-center h-8 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700">{{ num }}</a>
			</li>
			{% endif %} {% endfor %}
		</div>

		{% if page_obj.has_next %}
		<li>
			<a href="?page={{ page_obj.next_page_number }}" class="flex items-center justify-center h-8 px-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700">
				<span class="sr-only">Next</span>
				<svg class="w-2.5 h-2.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
				</svg>
			</a>
		</li>
		{% endif %}
	</ul>
</nav>
{% endif %}

<style>
	@media (max-width: 767px) {
		thead {
			display: none;
		}
		tr {
			display: block;
			margin-bottom: 1rem;
			border-bottom: 2px solid #ddd;
		}
		td {
			display: block;
			text-align: right;
			position: relative;
			padding-left: 50%;
		}
		td::before {
			content: attr(data-label);
			position: absolute;
			left: 0.5rem;
			width: 45%;
			padding-right: 0.5rem;
			text-align: left;
			font-weight: bold;
		}
		td[data-label="Aksi"] {
			text-align: center;
		}
		td[data-label="Aksi"]::before {
			content: "";
		}
	}
	.horizontal-scrollbar {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}
	.horizontal-scrollbar::-webkit-scrollbar {
		display: none;
	}
</style>

{% endblock %}
